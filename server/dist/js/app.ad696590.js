(function(t){function e(e){for(var i,s,a=e[0],c=e[1],u=e[2],m=0,p=[];m<a.length;m++)s=a[m],Object.prototype.hasOwnProperty.call(r,s)&&r[s]&&p.push(r[s][0]),r[s]=0;for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(t[i]=c[i]);l&&l(e);while(p.length)p.shift()();return o.push.apply(o,u||[]),n()}function n(){for(var t,e=0;e<o.length;e++){for(var n=o[e],i=!0,a=1;a<n.length;a++){var c=n[a];0!==r[c]&&(i=!1)}i&&(o.splice(e--,1),t=s(s.s=n[0]))}return t}var i={},r={app:0},o=[];function s(e){if(i[e])return i[e].exports;var n=i[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=t,s.c=i,s.d=function(t,e,n){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)s.d(n,i,function(e){return t[e]}.bind(null,i));return n},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],c=a.push.bind(a);a.push=e,a=a.slice();for(var u=0;u<a.length;u++)e(a[u]);var l=c;o.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"02e1":function(t,e,n){"use strict";n("085b")},"034f":function(t,e,n){"use strict";n("85ec")},"085b":function(t,e,n){},"0cd4":function(t,e,n){"use strict";n("5ef7")},"1eb7":function(t,e,n){"use strict";n("3ea5")},"30b3":function(t,e,n){t.exports=n.p+"img/background.0ebf559e.png"},"3ea5":function(t,e,n){},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var i=n("2b0e"),r=n("2f62"),o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("Game",{attrs:{msg:"Welcome to Your Vue.js App"}}),n("Auth")],1)},s=[],a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container"},[n("Radar",{attrs:{size:t.radarSize,map:t.radarData.map}}),n("ControlPanel",{attrs:{size:t.controlSize}})],1)},c=[],u=(n("a9e3"),function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"radar-container",style:t.compStyle},[i("img",{staticClass:"radar-sprite",style:t.compStyle,attrs:{src:n("8a4f"),alt:"Фон радара"}}),t._l(t.map.pathPoints,(function(e){return i("div",{key:1e5*e.x+e.y,staticClass:"path-point",style:t.addShiftToStyle(e,t.ppSize,t.gridSize/t.smallifier)})})),t._l(t.points,(function(e){return i("Point",{key:e.id,attrs:{current:e.current,active:e.active,position:e.position,size:t.gridSize}})})),i("img",{staticClass:"player-icon",style:t.addShiftToStyle({x:t.map.logic.current.x,y:t.map.logic.current.y},t.getSizeStyle(2*t.gridSize),2*t.gridSize),attrs:{src:n("6361"),alt:"игрок"}}),i("img",{staticClass:"radar-sprite",style:t.compStyle,attrs:{src:n("784a"),alt:"Рамка радара"}})],2)}),l=[],m=(n("d81d"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:t.className,style:t.stylePosition})}),p=[],d={name:"Point",props:{current:Boolean,active:Boolean,position:{x:Number,y:Number},size:Number,description:Object},computed:{className:function(){return"point"+(this.active?" point-active":"")+(this.current?" point-current":"")},stylePosition:function(){console.log(this.size),console.log(this.position.x);var t="left:"+(this.position.x-this.size/2)+"px; top:"+(this.position.y-this.size/2)+"px; width: "+this.size+"px; height: "+this.size+"px; "+(this.current?"":"border-radius: "+this.size+"px; ");return console.log(t),t}},mounted:function(){console.log(this)}},g=d,f=(n("a87b"),n("2877")),h=Object(f["a"])(g,m,p,!1,null,"64ee1dd7",null),x=h.exports,y={name:"Radar",components:{Point:x},props:{angle_speed:Number,range:Number,map:{pathPoints:[],vertexes:[],logic:{current:{id:Number,x:Number,y:Number},dir:String},items:Object},size:Number},methods:{calcPosition:function(t){return{x:t.x*this.gridSize+this.shift.x,y:t.y*this.gridSize+this.shift.y}},addShiftToStyle:function(t,e,n){var i=this.calcPosition(t);return e+" border-radius:2rem; left:"+(i.x-n/2)+"px; top:"+(i.y-n/2)+"px;"},getSizeStyle:function(t){return"height:"+t+"px; width:"+t+"px; "}},computed:{gridSize:function(){return this.size/20},shift:function(){return{x:this.size/2-this.map.logic.current.x*this.gridSize,y:this.size/2-this.map.logic.current.y*this.gridSize}},points:function(){var t=this;return this.map.vertexes.map((function(e){return{current:e.id===t.map.logic.current.id,active:!1,position:t.calcPosition(e)}}))},compStyle:function(){return"height:"+this.size+"px; width:"+this.size+"px;"},ppSize:function(){return"height:"+this.gridSize/this.smallifier+"px; width:"+this.gridSize/this.smallifier+"px; "},smallifier:function(){return console.log(this.map.pathPoints.length),Math.sqrt(Math.sqrt(this.map.pathPoints.length))}}},b=y,S=(n("0cd4"),Object(f["a"])(b,u,l,!1,null,"5912dcca",null)),v=S.exports,A=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"control-container",style:t.containerStyle},[i("div",{staticClass:"bottom-controls"},[i("Timer"),i("div",{staticClass:"button-blocks"},[i("ButtonsBlock",{attrs:{matrix:t.move}}),i("ButtonsBlock",{attrs:{matrix:t.fire}})],1)],1),i("img",{staticClass:"background-img",style:t.containerStyle,attrs:{src:n("30b3"),alt:"Фон"}})])},z=[],w=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},B=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"timer-container"},[i("img",{staticClass:"timer-img",attrs:{src:n("6469"),alt:"Часики-то тикают"}})])}],E={name:"Timer"},N=E,C=(n("9e3c"),Object(f["a"])(N,w,B,!1,null,"5db0e278",null)),j=C.exports,R=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"button-container",style:t.compStyle},[n("SpritedButton",{attrs:{"btn-name":t.matrix[0][0],empty:!t.matrix[0][0]}}),n("SpritedButton",{attrs:{"btn-name":t.matrix[0][1],empty:!t.matrix[0][1]}}),n("SpritedButton",{attrs:{"btn-name":t.matrix[0][2],empty:!t.matrix[0][2]}}),n("SpritedButton",{attrs:{"btn-name":t.matrix[1][0],empty:!t.matrix[1][0]}}),n("SpritedButton",{attrs:{"btn-name":t.matrix[1][1],empty:!t.matrix[1][1]}}),n("SpritedButton",{attrs:{"btn-name":t.matrix[1][2],empty:!t.matrix[1][2]}}),n("SpritedButton",{attrs:{"btn-name":t.matrix[2][0],empty:!t.matrix[2][0]}}),n("SpritedButton",{attrs:{"btn-name":t.matrix[2][1],empty:!t.matrix[2][1]}}),n("SpritedButton",{attrs:{"btn-name":t.matrix[2][2],empty:!t.matrix[2][2]}})],1)},P=[],T=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:t.empty?"empty-button":"custom-button"},[n("img",{staticClass:"button-sprite",attrs:{src:t.fullPath,alt:t.btnName}})])},O=[],k={name:"SpritedButton",props:{btnName:String,empty:Boolean},computed:{fullPath:function(){return console.log("http://localhost:8080/"+this.btnName+".png"),"http://localhost:8080//"+this.btnName+".png"}}},W=k,M=(n("02e1"),Object(f["a"])(W,T,O,!1,null,"ab59b9a2",null)),Q=M.exports,_={name:"ButtonsBlock",components:{SpritedButton:Q},props:{size:Number,matrix:[]},computed:{compStyle:function(){return"height:"+this.size+"px; width:"+this.size+"px;"}}},L=_,U=(n("1eb7"),Object(f["a"])(L,R,P,!1,null,"064e6829",null)),q=U.exports,G={name:"ControlPanel",components:{ButtonsBlock:q,Timer:j},props:{size:{w:Number,h:Number}},data:function(){return{move:[[!1,"forward",!1],["left",!1,"right"],[!1,"back",!1]],fire:[[!1,"missleF",!1],["missleL","mine","missleR"],[!1,"missleB",!1]]}},computed:{containerStyle:function(){return"height:"+this.size.h+"px; width:"+this.size.w+"px;"}}},I=G,J=(n("6e7f"),Object(f["a"])(I,A,z,!1,null,"6a58ee3d",null)),Y=J.exports,F={name:"Game",components:{ControlPanel:Y,Radar:v},props:{msg:String},data:function(){return{radarData:{angle_speed:1,range:1,map:{pathPoints:[{x:1,y:6},{x:0,y:7},{x:0,y:8},{x:1,y:9},{x:2,y:9},{x:3,y:9},{x:4,y:9},{x:5,y:9},{x:6,y:9},{x:7,y:9},{x:8,y:9},{x:9,y:8},{x:10,y:7},{x:10,y:6},{x:10,y:5},{x:10,y:4},{x:9,y:3},{x:2,y:7},{x:3,y:8},{x:4,y:8},{x:5,y:7},{x:3,y:6},{x:4,y:6},{x:2,y:5},{x:2,y:4},{x:5,y:5},{x:5,y:4},{x:3,y:4},{x:4,y:3},{x:2,y:2},{x:3,y:1},{x:4,y:1},{x:5,y:2},{x:1,y:3},{x:0,y:2},{x:0,y:1},{x:1,y:0},{x:2,y:0},{x:3,y:0},{x:4,y:0},{x:5,y:0},{x:6,y:0},{x:7,y:0},{x:8,y:1},{x:8,y:2},{x:6,y:3},{x:7,y:3},{x:6,y:6},{x:7,y:5},{x:8,y:4}],vertexes:[{id:0,x:2,y:6,items:[],edges:{WEST:0,NORTH:1,EAST:2,SOUTH:3}},{id:1,x:5,y:6,items:[],edges:{SOUTH:4,EAST:9}},{id:2,x:8,y:3,items:[],edges:{}},{id:3,x:5,y:3,items:[],edges:{SOUTH:6,EAST:8}},{id:4,x:2,y:3,items:[],edges:{EAST:5,WEST:7}}],logic:{current:{id:0,x:2,y:6},dir:"N"},items:{}},root:Number,size:Number},radarSize:Math.min(document.documentElement.clientWidth,document.documentElement.clientHeight),controlSize:Math.min(document.documentElement.clientWidth,document.documentElement.clientHeight)}},created:function(){window.addEventListener("resize",this.myEventHandler)},destroyed:function(){window.removeEventListener("resize",this.myEventHandler)},methods:{myEventHandler:function(t){console.log(t),this.radarSize=this.getRadarSize(),this.controlSize=this.getControlSize()},getRadarSize:function(){return Math.min(document.documentElement.clientWidth,document.documentElement.clientHeight)},getControlSize:function(){var t=document.documentElement.clientWidth,e=document.documentElement.clientHeight;return{w:t===this.radarSize?t:t-this.getRadarSize(),h:e===this.radarSize?e:e-this.getRadarSize()}}}},D=F,H=(n("eb5a"),Object(f["a"])(D,a,c,!1,null,"18133179",null)),X=H.exports,Z=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.loggedIn?n("div",[n("div",[t._v("Your login: "+t._s(t.loggedLogin))]),n("button",{on:{click:t.doLogout}},[t._v("Logout")])]):n("div",[n("label",[n("input",{directives:[{name:"model",rawName:"v-model",value:t.login,expression:"login"}],attrs:{type:"text",name:"login"},domProps:{value:t.login},on:{input:function(e){e.target.composing||(t.login=e.target.value)}}})]),n("label",[n("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],attrs:{type:"text",name:"password"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})]),n("button",{on:{click:t.doRegister}},[t._v("Register")]),n("button",{on:{click:t.doLogin}},[t._v("Login")])])])},V=[],K=function(t){return{register:function(e,n){return t.post("/user/register",{login:e,password:n})},login:function(e,n){return t.post("/user/login",{login:e,password:n})},logout:function(){return t.post("/user/logout")},createRoom:function(){return t.post("/game/createRoom")},joinRoom:function(e){return t.post("/game/joinRoom",{roomId:e})},getField:function(){return t.get("/game/getField")}}},$=(n("d3b7"),n("bc3a")),tt=n.n($),et=tt.a.create({baseURL:"http://ferrisgame.ru:8080/",headers:{"Access-Control-Allow-Origin":"*","Content-Type":"application/json"}});et.interceptors.request.use((function(t){var e=localStorage.getItem("accessToken");return e&&(t.headers["Authorization"]="Bearer ".concat(e)),t}),(function(t){return Promise.reject(t)}));var nt=et,it={name:"Auth",data:function(){return{login:"",password:""}},computed:{loggedLogin:function(){return this.$store.state.user.login},loggedIn:function(){return null!=this.$store.state.user.login}},methods:{doLogin:function(){this.$store.dispatch("user/login",{login:this.login,password:this.password})},doLogout:function(){this.$store.dispatch("user/logout")},doRegister:function(){K(nt).register(this.login,this.password).then((function(){alert("Ok")})).catch((function(t){alert(t)}))}}},rt=it,ot=Object(f["a"])(rt,Z,V,!1,null,"058300ef",null),st=ot.exports,at={name:"App",components:{Game:X,Auth:st}},ct=at,ut=(n("034f"),Object(f["a"])(ct,o,s,!1,null,null,null)),lt=ut.exports,mt={namespaced:!0,state:function(){return{login:null}},mutations:{login:function(t,e){t.login=e},logout:function(t){t.login=null}},actions:{login:function(t,e){return K(nt).login(e.login,e.password).then((function(e){var n=e.data;return localStorage.setItem("accessToken",n.accessToken),t.commit("login",n.login),n})).catch((function(t){console.log(t)}))},logout:function(t){return K(nt).logout().then((function(){localStorage.removeItem("accessToken"),t.commit("logout")})).catch((function(t){console.log(t)}))}}},pt={namespaced:!0,state:function(){return{field:{}}},mutations:{},actions:{}};i["a"].use(r["a"]);var dt=new r["a"].Store({modules:{user:mt,game:pt}});i["a"].config.productionTip=!1,i["a"].use(r["a"]),new i["a"]({render:function(t){return t(lt)},store:dt}).$mount("#app")},"5ef7":function(t,e,n){},"5fa6":function(t,e,n){},6361:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFgAAABLCAYAAAD010ABAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAO8SURBVHgB7ZtPbtNAFIefZyZsWiTnBskNkmXFJuygRIgb0BuEG4Qb9AgcgQ1C7OgGhcIi3ABukLRkgUr+YMcB2tT2s8fzZt44/qRKkdKm7dMvfl/mPQN4xPXk9Gw2GQ7AIxT4hJBjmTzqgicI8ITFl+cjgE0n/rqaDF+DJwTgAbPJk44UrY9JgbfMVw8W3Xb/Yg7M8SLBMpDjW8WNCdXN0Rg8gH2Ck/Sq72nPrdbwuH3y7gIYwz7BUqo32c8B+xSzLnCsZbCBQeY3RM/NLp++AMbwTrCQaEIlqPPZdBACU9gW+OfX4X5jy2DTEb+OXwFTWDa5XWObRg+LJnO+Wi/77ZMPP4AZLBOcaBmUeduHUkqWDY9dgvO0DIOjtrFLcPKJTfNnGWobqwJvtaxQY8sg0rbkNfjA5hIRq5a8eTitVOAEVucUbBKslscjA8WNCTlpG4sEV2lsGbDRNhYJ3mmZScK8MwybOE/w9eUwPkt4CwRw0DYGCQ7OgQghN2SvXfhvAIdU1jKEYBP0rj4/c9rwnF0iUsZAVDjVNmcJThkDUeF0vOQkwQRahhJpW9eFtjlJMIGW4b/TkbZZL/C2sQXBGdgmHi852Aqyn2Dh7txWisB6iq0WuPgYiAr7W0HWmpxFLcOwqm3WEmxRyzCsapuVBLvQMgxb5xRWEiyEIjnMqYKt8RJ5gWMti94mPeCGpa0g+gQLnuP0GBtbQaQFdq9lGPRbQWRNjmNjy4B0vESWYBfnDZqQbgWRJHjx6bS3VmIKHkGlbSQJXivJTsswqLTNeIGpx0BkRNpGMV4yeolgdN6gi/FzCqMJVkq99Li4Mca3gowl2CMtwzCqbcYS7JGWYRjdCjKSYMrtHFeY0jZDCQ6cb9CYxtRWUOUCe6tlCKa2gipdImqgZRiVta1SghmNgaioPF7STnCNtAxltVz324/efwMNtBMcFbd2jS0L2RLa/6tWgXd38rC+CdsoFbaC9BLMeAxERbwVpDNeKl1g/mMgKvTGS6Wa3AFoGUZpbSuV4APQMoxQ/j4q1fAKJ/iQtAyjzDlF4QRz3M5xRZnxUqECs93OcUWJm86LJfgAtQwlqkkRbUMLfLhahlFM23KbXNPYUNDxUm6CazQGoiLEzmQyE+zjdo4r8rQtM8E+bue4Ik/bUgtc1zEQGTlbQfcuEc15gzap5xT3EqxEa9QUV4vUraA7CW60rDr7N53fSXCjZdXZ3wr6V2BnN2nXjb3x0v8EN+cNxrh90/m2wI2WmWbT+attQaNlZGy17Q9XRY5TyrEqFAAAAABJRU5ErkJggg=="},6469:function(t,e,n){t.exports=n.p+"img/timer.3ba03ee0.png"},"6e7f":function(t,e,n){"use strict";n("5fa6")},"733b":function(t,e,n){},"784a":function(t,e,n){t.exports=n.p+"img/radar-border.b2828454.png"},"85ec":function(t,e,n){},"8a4f":function(t,e,n){t.exports=n.p+"img/radar.cccfb88f.png"},"9e3c":function(t,e,n){"use strict";n("d507")},a87b:function(t,e,n){"use strict";n("733b")},c573:function(t,e,n){},d507:function(t,e,n){},eb5a:function(t,e,n){"use strict";n("c573")}});
//# sourceMappingURL=app.ad696590.js.map